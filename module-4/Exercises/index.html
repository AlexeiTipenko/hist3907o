<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Exercises - HIST3907o Crafting Digital History</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Exercises";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> HIST3907o Crafting Digital History</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../introduction/crafting-digital-history/">Getting Started</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>1. Open Access Research</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Open-Access-Research/Open-Access-Research/">Why you should be open</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Open-Access-Research/Exercises/">Exercises</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>2. Finding Data</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../module-2/Finding Data/">How do we find data?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../module-2/Exercises/">Exercises</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>3. Fixing Data</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../module-3/Wrangling Data/">Data is messy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../module-3/Exercises/">Exercises</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>4. Analysis</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Seeing Patterns/">Seeing Patterns</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Exercises</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#module-4-exercises">Module 4 Exercises</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-1">Exercise 1</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-2">Exercise 2</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-3">exercise 3</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-4">exercise 4</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-5">exercise 5</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-6">exercise 6</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-7">exercise 7</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-8">exercise 8</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-9">exercise 9</a></li>
                
                    <li><a class="toctree-l4" href="#exercise-10-qgis">exercise 10 QGIS</a></li>
                
                    <li><a class="toctree-l4" href="#going-further">Going Further</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>5. Visualization</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../module-5/Humanities Visualization/">Communicating your Findings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../module-5/Exercises/">Exercises</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../conclusion/conclusion/">6. Final Thoughts</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Appendices</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/tei/">Text Encoding</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/ner/">NER</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/open-refine/">Open Refine</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/regex/">Regular Expressions (regex)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/regex-ner/">Going further with regex</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/regexex/">Regex & the Republic of Texas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/twarc/">Twarc</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/cyoa.txt/">CYOA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/geoparsing-w-python.txt/">Geoparsing with Python</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/gephi.txt/">SNA with Gephi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/graphing-the-net.txt/">Graphing the Net</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/multimode-networks.txt/">Multimode Networks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../supporting materials/leaflet.txt/">Leaflet</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">HIST3907o Crafting Digital History</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>4. Analysis &raquo;</li>
        
      
    
    <li>Exercises</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/shawngraham/hist3907o/tree/master/workbook/docs" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="module-4-exercises">Module 4 Exercises</h1>
<p><a href="http://dhresourcesforprojectbuilding.pbworks.com/w/page/69244314/Tutorials%20for%20DH%20Tools%20and%20Methods">There are <em>many</em> different tools and approaches</a> you could use to visualize your data, both as a preliminary pass to spot the holes and also for more formal analysis. In which case, for this module, I would like you to select two of these exercises which seem most germane for your own research project. You are welcome to work through more of them, of course, but I want the exercises to move your own research forward. Some of these I wrote; some are adapted from <a href="http://themacroscope.org">The Macroscope</a>; others are adapted or used holus-bolus from scholars like <a href="http://miriamposner.com/blog/">Miriam Posner</a>, <a href="http://fredgibbs.net/">Fred Gibbs</a>, and <a href="http://hfroehli.ch/">Heather Froehlich</a> (and I'm grateful that they shared their materials!)</p>
<p><em>nb</em> If you start working with the R exercises below, I would suggest you read the introductory bits from Lincoln Mullen's book-in-progress, <a href="http://dh-r.lincolnmullen.com/introduction.html">DH Methods in R</a>, especially the 'setup' part under 'getting started' (pay attention to the bit on installing packages and dependencies). If you spot any exercises in Mullen's book that seem relevant to your project, you may do those as an alternative to the ones here. <em>Alternatively</em>, go to <a href="http://swirlstats.com/">Swirl</a> and <a href="http://swirlstats.com/students.html">learn the basics of R within R</a> (It's an interactive tutorial. Try it out.)</p>
<table>
<thead>
<tr>
<th>Texts</th>
<th align="center">Networks</th>
<th align="center">Maps</th>
<th align="right">Charts</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#exercise-2">Topic Modeling Tool</a></td>
<td align="center"><a href="#exercise-1">Network analysis and visualization</a></td>
<td align="center"><a href="#exercise-8">Simple mapping &amp; georectifying</a></td>
<td align="right"><a href="#exercise-7">Quick charts using RAW</a></td>
</tr>
<tr>
<td><a href="#exercise-3">Topic Modeling in R</a></td>
<td align="center"><a href="../../supporting materials/multimode-networks.txt/">Converting 2-mode to 1-mode</a></td>
<td align="center"><a href="#exercise-10">QGIS (tutorials by Fred Gibbs)</a></td>
<td align="right"></td>
</tr>
<tr>
<td><a href="#exercise-4">Text Analysis with OverviewProject</a></td>
<td align="center"><a href="../../supporting materials/graphing-the-net.txt/">Graphing the Net</a></td>
<td align="center"><a href="../../supporting materials/geoparsing-w-python.txt/">Geoparsing with Python</a></td>
<td align="right"></td>
</tr>
<tr>
<td><a href="#exercise-5">Corpus Linguistics with AntConc</a></td>
<td align="center"><a href="../../supporting materials/cyoa.txt/">Choose your own adventure</a></td>
<td align="center"><a href="http://miriamposner.com/blog/getting-started-with-palladio/">Palladio with Posner</a></td>
<td align="right"></td>
</tr>
<tr>
<td><a href="#exercise-6">Text Analysis with Voyant</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr>
<td><a href="#exercise-9">Text Analysis in R</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exercise-1">Exercise 1</h2>
<h3 id="network-visualization">Network Visualization</h3>
<p>In exercise 1, you will transform your Texan Correspondence data into a network, which you will then visualize with Gephi. The detailed instructions are <a href="../../supporting materials/gephi.txt/">here</a>. I would recommend that you also take a long look at Scott Weingart's series, <a href="http://scottbot.net/HIAL/?s=%20networks%20demystified">Networks Demystified</a>. Finally, <a href="http://www.themacroscope.org/?page_id=449">heed our warning</a>.</p>
<hr />
<h2 id="exercise-2">Exercise 2</h2>
<h3 id="topic-modeling-tool">Topic Modeling Tool</h3>
<p>In exercise 2, you will use the 'Topic Modeling Tool' to create a simple topic model and a webpage that allows you to browse the results. </p>
<ol>
<li>Download the <a href="http://topic-modeling-tool.googlecode.com/files/TopicModelingTool.jar">tool</a>. (The site for the tool is <a href="https://code.google.com/p/topic-modeling-tool/">https://code.google.com/p/topic-modeling-tool/</a>. </li>
<li>Make sure you have the Colonial Newspaper Database handy on your machine. (You can grab my copy from <a href="https://raw.githubusercontent.com/shawngraham/exercise/gh-pages/CND.csv">here</a>).</li>
<li>Double-click on the file you downloaded in step 1. This will open a java-based graphical user interface with one of the most common topic-modeling approaches, 'Latent Dirichlet Allocation'.</li>
<li>Set the input to be the Colonial Newspaper Database.</li>
<li>Set the output to be somewhere neat and tidy on your computer.</li>
<li>Set the number of topics you'd like to model.</li>
<li>Click 'train topics' to run the algorithm.</li>
<li>When it finishes, go to the folder you selected for output, and find the file 'all_topics.html' in the 'output_html' folder. Click on that, and you now have a browser-based way of navigating your topics and documents. In the output_csv folder created, you will find the same information as csv, which you could then input into a spreadsheet for other kinds of visualizations (which we'll talk about in class.)</li>
</ol>
<p>Make a note in your open notebook about your process and your observations.</p>
<p><em>Going Further</em> Remember when we did the Canadiana API and WGET exercises in Module 2? Somewhere on your machine you have a collection of those materials. Now, you can load those materials into the Topic Modeling Tool if you have all of the txt files in a single folder. In the case of the slavery documents, that was something like 7500 items. That's a lot of drag-and-drop. You can 'flatten' the folder structure so that all of the documents in your subfolders are put into a single folder. If you are on a Mac, <a href="http://osxdaily.com/2015/02/11/flatten-nested-directory-structure-command-line/">try these instructions</a>. On a PC, <a href="http://superuser.com/questions/412982/win-7-copy-all-files-from-a-complex-folder-structure-to-one-folder">try this one</a> (there are scripts you can use, but for the time being this is probably simplest).  Then, you can point your topic modeling tool at your flattened folder, and <em>boom</em> you have a topic model fitted to your collection.</p>
<hr />
<h2 id="exercise-3">exercise 3</h2>
<h3 id="topic-modeling-in-r">Topic Modeling in R</h3>
<p>Exercise 2 was quite a simple way to do topic modeling. There are more powerful ways, and one of these uses a program called R Studio, which is an interface for the R statistical programming language. R is a powerful language for exploring, visualizing, and manipulating all kinds of data, including textual. It is however not the most intutive of environments to work in. In which case, <a href="http://www.rstudio.com/products/RStudio/">RStudio</a> is what we need. Download the free version and install it on your machine. *Note also that you need to have R <a href="http://cran.rstudio.com/">downloaded &amp; installed first</a>! Then, go to <a href="http://tryr.codeschool.com/">http://tryr.codeschool.com/</a> and work your way through some of that tutorial. This tutorial mimics working right in the R console. Remember working in git bash or the terminal in Module 3? It's somewhat similar to that, but just for R. A handy pdf that explains a bit more about working within the R Studio enivornment can be had <a href="http://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf">here</a>. In essence, you put your code in the script window, execute each line of it, and the output appears in the console. Or in the image plots window. <a href="http://dss.princeton.edu/training/RStudio101.pdf">This handout will guide you around the interface</a>.</p>
<p>In this exercise, we're going to grab the Colonial Newspaper Database from my github page, do some exploratory visualizations, and then create a topic model whose output can then be visualized further in other platforms (including as a network in Gephi). The walkthrough <a href="http://hist3907b-winter2015.github.io/module4-holes/tm-CND.html">can be found here</a>. Each gray block is something to copy-and-paste into your script window in R Studio. Then, put the cursor at the start of the first line, and hit ctrl+enter to get RStudio to execute each line. In the walkthrough, when you get to another gray block, just copy and paste it into your script window after the earlier block. Work your way through the walkthrough. The walkthrough gives you an indication of what the output should look like as you move through it. (The walkthrough was written inside R, and then turned into HTML using an R package called 'Knittr'. You can see that this has implications for open research! For reference, <a href="https://gist.github.com/shawngraham/7efd64c08a94c39a593f">here's the original Rmd (R markdown) file that generated the walkthrough</a>.)</p>
<p>By the way: when you run this line: <code>topic.model$train(1000)</code> your console will fill up with data as it iterates 1000 times over the entire corpus, fitting a topic model to it. This is as it should be!</p>
<p>In this way, you'll build up an entire script for topic modeling materials you find on the web. You can then save your script and upload it to your open notebook. In the future, you'd be able to make just a few changes here and there in order to grab and explore different data.</p>
<p>Make a note in your open notebook about your process and your observations.</p>
<p><em>Going further</em> If you wanted to use that script on the materials you collected in module 2, you would have to tell R to load up those materials from a directory, rather than by reading a csv file. Take a look at <a href="https://github.com/shawngraham/ferguson/blob/master/R%20script/ferguson-topicmodel.R">my script for topic modeling the Ferguson Grand Jury documents</a>, especially this line:</p>
<p><code>documents &lt;- mallet.read.dir("originaldocs/1000chunks/")</code></p>
<p>You feed it the path to your documents. If you are on a windows machine, the path would look a bit different, for instance: 
<code>"C:\\research\\originaldocs\\1000chunks\\"</code></p>
<hr />
<h2 id="exercise-4">exercise 4</h2>
<h3 id="text-analysis-with-overview">Text Analysis with Overview</h3>
<p>In exercise 4, we're going to look at the Colonial Newspaper Database again, but this time using a tool called 'Overview'. Overview uses a different approach that the topic models we've been discussing. In essence, it looks at word frequencies and their distributions within a document, and within a corpus, to organize the documents into folders of progressively similar word use. </p>
<p>You can download Overview to run on your own machine, but for our purposes, the hosted version at <a href="https://www.overviewdocs.com/">https://www.overviewdocs.com/</a> is sufficient. Go to that page, watch the video, create an account, and then log in. (More help about how Overview works <a href="https://blog.overviewdocs.com/">may be found on their blog</a>, including helpful videos.)</p>
<p>Once you're inside, click 'import from a CSV file', and upload the CND.csv (which you can download and save to your own machine from <a href="https://raw.githubusercontent.com/shawngraham/exercise/gh-pages/CND.csv">here</a> &lt;- right-click and save as. On the 'UPLOAD A CSV FILE' page in Overview click 'browse' and select the CND.csv. It will give you a preview. There are a number of options here - you can tell Overview which words to ignore, and which words to give added importance to. What words will you select? Make a note in your notebook. Then hit 'upload'.</p>
<p>A new page appears, called 'YOUR DOCUMENT SETS'. Click on the one you just uploaded. A file folder tree showing documents of progressively greater similarity will open; on the right hand side will be the list of documents within each box (the box in question will be greyed out when you click on it, so you know where you are). You can search for words in your document, and Overview will tell you where they are; you can tag documents that you find interesting. The Overview system allows you to jump between a distant, macroscopic view and a close, document level view. Jump back and forth, see what you can find. For suggestions about how to use Overview effectively, try <a href="https://blog.overviewdocs.com/">their blog</a>. Make notes about what you observe in your notebook. Also, you can export your tagged document set from Overview, so that you could visualize the patterns of tagging in a spreadsheet (for instance). </p>
<p><em>Going further</em> Do you see how you could upload your documents that you collected during Module 2?</p>
<hr />
<h2 id="exercise-5">exercise 5</h2>
<h3 id="corpus-linguistics-with-antconc">Corpus Linguistics with AntConc</h3>
<p>Heather Froelich has put together an excellent step-by-step with using AntConc for exploring textual patterns within, and across, corpora of texts. Work your way through her <a href="http://hfroehli.ch/workshops/getting-started-with-antconc/">tutorial</a></p>
<p>Can you get our example materials (from the Colonial Newspaper Database) into AntConc? <a href="http://www.themacroscope.org/?page_id=418">This might help you</a> to split the csv into individual txt files. Alternatively, do you have any materials of your own, already collected? Feed them into AntConc. What patterns do you see? What if you compare your materials against other corpora of texts?</p>
<p>FYI, <a href="http://www.helsinki.fi/varieng/CoRD/corpora/index.html">here is a collection of corpora that you can explore</a></p>
<hr />
<h2 id="exercise-6">exercise 6</h2>
<h3 id="text-analysis-with-voyant">Text Analysis with Voyant</h3>
<p>In module 3 if you recall, we worked through how to transform XML using stylesheets. Melodee Beals used a <a href="https://github.com/mhbeals/Colonial-Newspaper-Database/tree/master/Transformers">stylesheet </a> to transform her database into a series of individual txt files. In the exercises above, a transformer was used to make the database into a single CSV file. In this exercise, we are going to use <a href="http://voyant-tools.org">Voyant Tools</a> to visualize patterns in word use in the database. Voyant can read either a CSV <em>or</em> text files. The advantage of uploading a folder of text files is that, if the files are in chronological order, Voyant's default visualizations will also be arranged in chronological order and thus we can see change over time.</p>
<p>Go to <a href="http://voyant-tools.org">http://voyant-tools.org</a>. Paste the URL to the csv of the CND database: <a href="../[https://raw.githubusercontent.com/shawngraham/exercise/gh-pages/CND.csv]">https://raw.githubusercontent.com/shawngraham/exercise/gh-pages/CND.csv</a> . </p>
<p>Now, open a new browser window, and go here <a href="http://voyant-tools.org/?corpus=colonial-newspapers&amp;stopList=stop.en.taporware.txt">http://voyant-tools.org/?corpus=colonial-newspapers&amp;stopList=stop.en.taporware.txt</a></p>
<p>Do you see the difference? In the latter window, the individual articles have been uploaded individually, and thus are treated as individual documents in chronological order.</p>
<p>Explore the corpus, comparing terms over time, looking at keywords in context, and using the RezoViz tool to create a graph where people, places, and organizations that appear in the same documents (and across documents) are connected (you can find 'rezoviz' under the cogwheel icon at the top right of the panel). You can embed any of the tools in your blogs by using the 'save' icon and getting the iframe or embed code.  You can apply 'stopwords' by clicking on the cogwheel in any of the different tools, and selecting stopwords. Apply the stopwords globally, and you'll only have to do this once! What patterns do you see? What do different tools highlight? Which ones are useful? What patterns do you see that strike you as interesting? Note this all down. </p>
<p><em>Going further</em> Upload materials you collected in module 2 and explore them.</p>
<hr />
<h2 id="exercise-7">exercise 7</h2>
<h3 id="quick-charts-using-raw">Quick Charts Using RAW</h3>
<p>A quick chart can be a handy thing to have. Google spreadsheets, Microsoft Excel, and a host of other programs can make excellent charts quickly with their wizard functions. Never hesitate to turn to these. However, they are not always good with non-numeric data. In module 3, you used the NER to extract place names from a text. After some further munging with regex, you might have ended up with a CSV that looks like <a href="https://raw.githubusercontent.com/hist3907b-winter2015/module4-holes/master/texas.csv">this</a>. Can we do a quick visualization of this information? One useful tool is <a href="http://raw.densitydesign.org/">RAW</a>. Open that in a new window. Copy the table of data of places mentioned in the Texan correspondence, and paste it into the data input box at the top of the RAW screen. </p>
<h4 id="a-quick-data-munge">A quick data munge</h4>
<p>You should get an error message, to the effect that you need to check 'line 2'. What's gone wrong? RAW has checked the number of values you have in that row, and compared it to the number of columns in row 1 (which contains all the column names). It sees that the two don't match. What we need to do is add a default null value in those cells. So, go to <a href="https://www.google.ca/sheets/about/">Google Sheets</a>, click the 'go to google sheets' button, and then click on the big green plus sign to start a new sheet. Paste the following into the top-left cell (cell A1):</p>
<p><code>=IMPORTDATA("https://raw.githubusercontent.com/hist3907b-winter2015/module4-holes/master/texas.csv")</code></p>
<p>Pretty neat, eh? Now, here's the thing: even though your sheet <em>looks</em> like it is filled with information, it's not (at least, as far as the script we are about to run is concerned). That is to say, the sheet itself only has one cell of data, and that one cell is grabbing info from elsewhere on the web and dynamically filling the sheet. The script we're going to run works only on static values (more or less). </p>
<p>So, place your cursor in cell B1. On a Mac, hit <code>shift+cmnd+downarrow</code>. On a Windows machine, hit <code>shift+ctrl+downarrow</code>. Then on Mac <code>shit+cmnd+rightarrow</code>, on Windows <code>shitf+crtl+rightarrow</code>. Then copy all of that data (<code>cmnd+c</code> or <code>ctrl+c</code>). Then, under 'Edit' select 'paste special' -&gt; 'paste VALUES only'.</p>
<p>The formula you put in cell A1 now says <code>#REF!</code>. You can delete this now. This mucking about is necessary so that the add on script we are about to run will work.</p>
<p>We now need to fill those empty values. In the tool bar, click <code>add ons</code> -&gt; <code>get add ons</code>. Search for <code>blanks</code>. You want to add <code>Blank Detector</code>.</p>
<p>Now, click somewhere in your data. On Mac, hit <code>cmnd+a</code>. On Windows, hit <code>ctrl+a</code>. This highlights all of your data. Click <code>Add ons</code> -&gt; <code>blank detector</code> -&gt; <code>detect cells</code>. A dialogue panel will open on the right hand side of your screen. Click the button beside <code>set value</code> and type in <code>null</code>. Hit <code>run</code>. All of the blank cells will fill with the word <code>null</code>. Delete column A (which formerly had record numbers, but is now just filled with the word <code>null</code>. We don't need it). <strong>If you get the error, run exceeded maximum time</strong> just hit the run button again. This script might take a few minutes.</p>
<p>You can now copy and paste your table of data into the data input box in RAW, and you should get the green thumbs up saying x records have been successfully parsed!</p>
<h4 id="playing-with-raw">Playing with RAW</h4>
<p>RAW takes your data, and depending on your choices, passes it into chart templates built on the d3.js code library. D3.js is a powerful library for making all sorts of charts (including interactive ones). If this sort of thing interests you, you can follow the tutorials in <a href="http://manning.com/meeks/">Elijah Meeks' excellent new book</a>.</p>
<p>With your data pasted in, you can now experiment with a number of different visualizations that are all built on the d3.js code library.  Try the ‘alluvial’ diagram.  Pick place1 and place2 as your dimensions - you click and drag the green boxes under 'map your data' into the 'steps' box. Leave the 'size' box empty. Under 'customize your visualization' you can click inside the 'width' box to make the diagram wider and more legible.</p>
<p>Does anything jump out? Try place3 and place 4. Try place1, place2, place3, and place4 in a single alluvial diagram. When we look at the original letters, we see that the writer often identified the town in which he was writing, and the town of the addressee. Why choose the third and fourth places? Perhaps it makes sense, for a given research question, to assume that with the pleasantries out of the way the writers will discuss the places important to their message. Experiment! This is one of the joys of working with data, experimenting to see how you can deform your materials to see them in a new light.</p>
<p>You can export your visualization under the 'download' box at the bottom of the RAW page - your choices are as a simple raster image (png), a vector image (svg) or a data representation (json).</p>
<hr />
<h2 id="exercise-8">exercise 8</h2>
<h3 id="simple-mapping-and-georectifying">Simple Mapping and Georectifying</h3>
<p>In this exercise, you will find a historical map online, upload a copy to a mapwarper service, georectify it, and then display the map online, via a hosted service like CartoDB, and also through a map you will build yourself using leaflet.js. Finally, we will also convert csv to geojson using http://togeojson.com/, and we'll map that as a github gist. We'll also grab a geojson file hosted on github gist and import it into cartodb.</p>
<h4 id="georectifying">Georectifying</h4>
<p>Georectifying is the process of taking an image (whether it is of a historical map, chart, airphoto, or whatever) and manipulating its geometry so that it matches a geographic projection. Think of it like this: you take your handdrawn map, and use pushpins to pin down known locations on your map to a globe. As you pin, your image stretches and warps. Traditionally, this has not been an easy thing to do, if you are new to GIS. In recent years, the curve has flattened significantly. In this exercise, we'll grab an image, upload it to the Harvard Library MapWarper service, and then export it as a tileset which can be used in other mapping programs.</p>
<ol>
<li>Get a historical map. I like the Fire Insurance plans from the <a href="http://www.gvhs.ca/research/maps-fire-insurance.html">Gatineau Valley Historical Society</a>; I'm sure you can find others to suit your interests.</li>
<li>Right-click, save as.... grab a copy. Save it somewhere handy.</li>
<li>Go to <a href="http://warp.worldmap.harvard.edu/">Harvard World MapWarp</a> and sign up for an account. Then login.</li>
<li>Go to the upload screen: <br> <img alt="Imgur" src="http://i.imgur.com/bmNCzg6.png" /></li>
<li>Fill in as much of the metadata as you can. Then select your map from your computer, and upload it.</li>
<li>On the next page, click 'rectify'. <br> <img alt="Imgur" src="http://i.imgur.com/yULDRQR.jpg" /></li>
<li>Pan and zoom both maps until you're sure you're looking at the same area in both. Double click in a map, select the pencil icon, and click on a point (location) you are sure you can match in the other window. Then click on the other map window, select the pencil, and then click on the same point. The 'add control point' button below and between both maps will light up. Click on this to confirm that this is a control point you want. Do this at least three times; the more times you can do it, the better the map warp.</li>
<li>Having selected your control points, click on 'warp image'.</li>
<li>You can now click on the 'export' panel, and get the URL for your georectified image in a few different formats. If you clicked on the KML option, a google map window will open <a href="https://maps.google.com/maps?q=http://warp.worldmap.harvard.edu/maps/4152.kml&amp;output=classic&amp;dg=feature">like so</a>. For many webmapping applications, the Tiles (Google/OSM scheme): Tiles Based URL is what you want. You'll get a URL like this: <code>http://warp.worldmap.harvard.edu/maps/tile/4152/z/x/y.png</code>   Save that info. You'll need it later.</li>
</ol>
<p>You have now georectified a map. Let's use that map as a base layer in <a href="http://palladio.designhumanities.org/#/">Palladio</a></p>
<ol>
<li>
<p>We need some place data for Palladio. Here's what I'm using <br> <img alt="Imgur" src="http://i.imgur.com/vTEiRxh.png" /> <br> Note how I've formatted this data. I'll be copying and pasting it into Palladio. (For more on how to input geographic data into Palladio, see <a href="http://hdlab.stanford.edu/doc/scenario-point-to-point.pdf">this tutorial</a>). Basically, you want something like this:<br></p>
<pre><code>  Place   Coordinates&lt;br&gt;
</code></pre>
<p>Mexico  23.634501,-102.552784<br>
California  36.778261,-119.4179324<br>
Brazos  32.661389,-98.121667<br></p>
<p>etc: that is, a tab between 'place' and 'coordinates' in the first line, a tab between 'mexico' and the latitude, and a comma between latitude and logitude. </p>
</li>
<li>
<p>Go to <a href="http://palladio.designhumanities.org/">Palladio</a>. Hit 'start' then 'upload spreadsheet or csv'. In the box, paste in your data. <strong>You can progress to the next step without having any real data: just paste or type something in.</strong> Obviously, you won't have any points on your map, but if you were having trouble with that step, this allows you to bypass it to continue on with this tutorial.</p>
</li>
<li>Click on 'map'. Under 'places', select 'coordinates'. Then, click 'add new layer'. In the popup, beside 'Choose one of Palladio default layers or create a new one.', select 'custom'. This is where you're going to paste it that tiles based URL from the map warper. Paste it in, but <strong>replace</strong> the <code>/z/x/y</code> part with <code>{z}/{x}/{y}</code>. Click add.</li>
</ol>
<p>Here is a video walk through; places where you might have got into trouble include getting past the initial data entry box on Palladio, and finding where exactly to past in your georectified map url.</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/KgLrvcA8v_M" frameborder="0" allowfullscreen></iframe>

<p>Congratulations! You've georectified a map, and used it as a base layer for a visualization of some point data. Here are some <a href="https://gist.github.com/shawngraham/a49a9834984ae0792345">notes on using a georectified map with the CartoDB service</a>.</p>
<p><img alt="Imgur" src="http://i.imgur.com/0gCjh5X.jpg" /></p>
<hr />
<h2 id="exercise-9">exercise 9</h2>
<h3 id="text-analysis-in-r">Text Analysis in R</h3>
<p>I would suggest, before you try this, that you look at the walkthrough for exercise 3, and that you become familiar with R. Then, you can try <a href="http://onepager.togaware.com/TextMiningO.pdf">this tutorial</a>, starting at page 3. On that page, the author tells you to create a folder called /corpus/text, and to fill it with text files you'd like to analyse. So why not grab some of the materials you collected in module 2? The problem is, where is this folder supposed to go? In R studio, find out where your working director is by typing</p>
<p><code>getwd()</code></p>
<p>in the console. Then, you can create the /corpus/text folder &amp; subfolder at that location. Alternatively, you can set the working directory to wherever you like like so:</p>
<p><code>setwd("C://my-working-folder//")</code> on a pc, or <code>setwd("~/my-working-folder/")</code> on a mac.</p>
<p>Then, to get going, you'd need</p>
<p><code>install.packages("tm")</code></p>
<p><code>library(tm)</code> </p>
<p>You can then work through the entire pdf, or jump ahead to page 37 to see what the completed script would look like (here's <a href="https://github.com/hist3907b-winter2015/module4-holes/blob/master/text-analysis-cnd.R">my version using the CND again</a>. Makes notes of what you find. Google any error messages you find to try to figure out a solution.</p>
<h2 id="exercise-10-qgis">exercise 10 QGIS</h2>
<h3 id="qgis">QGIS</h3>
<p>There are many excellent tutorials around concerning how to get started with GIS. Our own library, in the <a href="https://www.library.carleton.ca/contact/service-points/maps-data-and-government-information-centre">MADGIC centre</a> has tremendous resources and I would encourage you to speak with the map librarians before embarking on any <em>serious</em> mapping projects. In the short term, the historian <a href="http://fredgibbs.net/">Fred Gibbs</a> has an excellent series on using the open source GIS platform <em>QGIS</em> to make and map historical data.</p>
<p>For this exercise, I would recommend you try Gibbs' first tutorial,</p>
<p><a href="http://fredgibbs.net/tutorials/making-a-map-with-qgis/">'Making a map with QGIS'</a></p>
<p>...and then, try georectifying a historical map and adding it to your GIS:</p>
<p><a href="http://fredgibbs.net/tutorials/using-historic-maps-with-qgis/">'Using historica maps with qgis'</a></p>
<h2 id="going-further">Going Further</h2>
<p>There are many tutorials at <a href="http://programminghistorian.org/lessons/">The Programming Historian</a> that are appropriate here. Try some under the 'data manipulation' or 'distant reading' headings.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../module-5/Humanities Visualization/" class="btn btn-neutral float-right" title="Communicating your Findings"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Seeing Patterns/" class="btn btn-neutral" title="Seeing Patterns"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

The Crafting Digital History site is built with <a href="http://www.mkdocs.org">MkDocs</a> using a theme provided by <a href="https://readthedocs.org">Read the Docs</a>. All documents are available on <a href="https://github.com/shawngraham/hist3907o/tree/master/workbook/docs"> GitHub</a>. I thank Reclaim Hosting for their help, support, and example in getting this site up and running.
</footer>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
<script>
  $(document).ready(function(){
    // Target your .container, .wrapper, .post, etc.
    $(".section").fitVids();
  });
</script>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Seeing Patterns/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../module-5/Humanities Visualization/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
